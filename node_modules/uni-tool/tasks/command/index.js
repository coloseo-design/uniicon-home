#!/usr/bin/env node
const colorful = require('colorful');
const commander = require('commander');
const pkgJson = require('../../package.json');

colorful.colorful();
commander.version(pkgJson.version)
  .command('run [name]', 'run specified task')
  .parse(process.argv);

const { runningCommand } = commander;
if (runningCommand) {
  runningCommand.on('close', process.exit.bind(process));
  runningCommand.on('error', () => {
    process.exit(1);
  });
}

const subCommand = commander.args[0];
if (!subCommand || subCommand !== 'run') {
  commander.help();
}
